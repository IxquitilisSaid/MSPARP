{% extends "base.html" %}
{% block title%}
Chat - 
{% endblock %}
{% block header %}
<script src="/static/js/quirks.js"></script>
<script type="text/javascript">
	var user_color = {{("#"+user.color)|upper|tojson|safe}};
	var user_acronym = {{user.acronym|tojson|safe}};
	var post_url = {{url_for('postMessage',chatid=chatid)|tojson|safe}};
	var ping_url = {{url_for('pingServer',chatid=chatid)|tojson|safe}};
	var get_messages_url = {{url_for('getMessages',chatid=chatid)|tojson|safe}};
	var quitURL = {{url_for('quitChatting',chatid=chatid)|tojson|safe}};

	var latestNum = {{latestNum}};
</script>
{% include 'apply_quirk_js.html' %}
<script src="/static/js/chat.js?2"></script>
{% endblock %}
{% block content %}
<form id="chat-form" >
<div class="chat-container">
	<div id="chat-log" class="pester-line">
		<div id="chat-log-inner">
			{% for line in lines %}
				<div style="color: #{{line.color}}">{{line.line}}</div>
			{% endfor %}
		</div>
	</div>
	<div id="chat-hover">
		<div id="chat-preview" class="pester-line"><span id="preview-text"> </span><a href="#" id="hide-preview">[hide]</a></div>
		<div class="inputline"><input type="text" id="chat-line" class="pester-line"></div></div>
	</div>
</div>
</form>
{% endblock %}
